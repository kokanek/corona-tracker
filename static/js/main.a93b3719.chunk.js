(this.webpackJsonptracker=this.webpackJsonptracker||[]).push([[0],{355:function(e,t,a){e.exports=a(665)},388:function(e,t){},390:function(e,t){},419:function(e,t){},420:function(e,t){},464:function(e,t){},466:function(e,t){},489:function(e,t){},664:function(e,t,a){},665:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),l=a(49),s=a.n(l),i=a(135),u=(a(152),a(83)),d=a(666),p=(a(689),a(681),a(692),a(695),a(684),a(690),a(682),a(683),a(84)),m=a(85),h=a(86),y=a(87),f=a(685),v=a(691),g=a(688),E=a(677),b=a(686),k=a(67),C=a.n(k),w=E.a.Header,x=E.a.Content,O=E.a.Footer,j=(E.a.Sider,function(e){Object(y.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()("https://corona.lmao.ninja/countries");case 2:return t=e.sent,e.next=5,JSON.parse(t);case 5:(t=e.sent).forEach((function(e){return Object(i.a)({},e,{percentageIncrease:100*e.todayCases/e.cases})})),this.setState({data:t});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.data;return console.log("dashboard prop: ",e),r.a.createElement(E.a,{className:"site-layout"},r.a.createElement(w,{className:"site-layout-background"},r.a.createElement(b.a,{title:"Detailed tracker",subTitle:"All data"})),r.a.createElement(x,{style:{margin:"0 16px"}},r.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:360,margin:"16px 0"}},r.a.createElement(f.a,{columns:[{property:"country",header:r.a.createElement(v.a,null,"Country"),primary:!1,search:!0},{property:"cases",header:r.a.createElement(v.a,null,"Cases"),primary:!1,sortable:!0},{property:"todayCases",header:r.a.createElement(v.a,null,"New Cases today"),primary:!1,sortable:!0},{property:"deaths",header:r.a.createElement(v.a,null,"Deaths"),primary:!1,sortable:!0},{property:"recovered",header:r.a.createElement(v.a,null,"Recovered"),primary:!1,sortable:!0},{property:"percentage",header:"Percentage increase",render:function(e){return r.a.createElement(d.a,{pad:{vertical:"xsmall"}},r.a.createElement(g.a,{values:[{value:e.todayCases/e.cases*100}],thickness:"small",size:"small",round:!0}))}}],data:e,background:{header:"dark-3",body:["light-1","light-3"],footer:"dark-3"},step:1e3,sortable:!0,size:"large"}))),r.a.createElement(O,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED"))}}]),a}(n.PureComponent)),S=a(687),A=a(61),N=(E.a.Header,E.a.Content),D=E.a.Footer,I=(E.a.Sider,S.a.Option),T=function(e){Object(y.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],countries:[],selectedCountry:"india"},e.onChange=function(t,a){console.log("checked: ",t,a),e.setState({selectedCountry:t})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()("https://corona.lmao.ninja/historical");case 2:return t=e.sent,e.next=5,JSON.parse(t);case 5:t=e.sent,a=t.map((function(e){return{country:e.country,key:"".concat(e.country).concat(e.province?"".concat(e.province):""),displayValue:"".concat(e.country).concat(e.province?" (".concat(e.province,")"):"")}})),this.setState({data:t,countries:a});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.data.filter((function(t){return"".concat(t.country).concat(t.province||"")==e.state.selectedCountry}));console.log("props countries: ",this.state.countries);var a={};Array.isArray(t)&&t.length>0&&(a=t[0].timeline);var n=[];for(var c in console.log("timeline: ",a),a.cases)n.push({date:c,type:"cases",value:Number(a.cases[c])});for(var o in a.deaths)n.push({date:o,type:"deaths",value:Number(a.deaths[o])});for(var l in a.recovered)n.push({date:l,type:"recovered",value:Number(a.recovered[l])});console.log("datum: ",n);return r.a.createElement(E.a,{className:"site-layout"},r.a.createElement("div",{className:"site-layout-background",style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"}},r.a.createElement(b.a,{title:"Corona Tracker Dashboard",subTitle:"Trend by country"}),r.a.createElement(S.a,{showSearch:!0,style:{width:200},placeholder:"Select a country",optionFilterProp:"children",value:this.state.selectedCountry,onChange:this.onChange,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.countries.map((function(e){return r.a.createElement(I,{value:"".concat(e.key),key:"".concat(e.key)},"".concat(e.displayValue))})))),r.a.createElement(N,{style:{margin:"0 16px"}},r.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:360,margin:"16px 0"}},r.a.createElement(A.Chart,{height:800,width:1e3,data:n,scale:{date:{range:[0,1]}},forceFit:!0},r.a.createElement(A.Legend,null),r.a.createElement(A.Axis,{name:"date",label:{formatter:function(e,t,a){return a%7===0?e:""},autoRotate:!1}}),r.a.createElement(A.Axis,{name:"value"}),r.a.createElement(A.Tooltip,{crosshairs:{type:"y"}}),r.a.createElement(A.Geom,{type:"line",position:"date*value",size:2,color:["type",["#40a9ff","#ff4d4f","#73d13d"]],shape:"smooth"}),r.a.createElement(A.Geom,{type:"point",position:"date*value",size:4,shape:"circle",color:["type",["#40a9ff","#ff4d4f","#73d13d"]],style:{stroke:"#fff",lineWidth:1}})))),r.a.createElement(D,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED"))}}]),a}(r.a.Component);var H=a(213),z=a(694),F=a(696),J=a(693),G=(a(663),a(664),E.a.Sider),L=function(e){Object(y.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1,display:"graph"},e.onCollapse=function(t){console.log(t),e.setState({collapsed:t})},e.onChange=function(e){console.log("on change triggered: ",e)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{style:{minHeight:"100vh"}},r.a.createElement(G,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse},r.a.createElement("div",{className:"logo"}),r.a.createElement("div",{style:{margin:"12px"}}),r.a.createElement(H.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},r.a.createElement(H.a.Item,{key:"1",onClick:function(){return e.setState({display:"graph"})}},r.a.createElement(z.a,null),r.a.createElement("span",null,"Dashboard")),r.a.createElement(H.a.Item,{key:"2",onClick:function(){return e.setState({display:"table"})}},r.a.createElement(F.a,null),r.a.createElement("span",null,"Table")),r.a.createElement(H.a.Item,{key:"3"},r.a.createElement(F.a,null),r.a.createElement("span",null,"Graph")),r.a.createElement(H.a.Item,{key:"4"},r.a.createElement(F.a,null),r.a.createElement("span",null,"Other")),r.a.createElement(H.a.Item,{key:"9"},r.a.createElement(J.a,null)))),"graph"===this.state.display&&r.a.createElement(T,null),"table"===this.state.display&&r.a.createElement(j,null))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[355,1,2]]]);
//# sourceMappingURL=main.a93b3719.chunk.js.map